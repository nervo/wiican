#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys
import gobject
import dbus

from dbus.mainloop.glib import DBusGMainLoop

from wiican.service import WiicanDBus, WIICAN_URI

DBusGMainLoop(set_as_default=True)
loop = gobject.MainLoop()

if WIICAN_URI in dbus.SessionBus().list_names():
    print "Found wiican already running, exiting"
    sys.exit(0)

wiican = WiicanDBus(loop)
loop.run()
